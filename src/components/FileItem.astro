---
import type { FileType } from '@/util/files'
import { permalink } from '@/util/link';

interface Props {
    parent: string,
    path: string,
    type: FileType,
}

const { parent, path, type } = Astro.props;
---

<li class="card">
    <div class="file-icon">
        {type === 'directory' ? 'üìÅ' : 'üìÑ'}
    </div>
    
        <a class="file-name" href={path}>{path}</a>
    
    {type === 'file' && (
        <div class="file-actions">
            <a href={permalink(parent, path)} class="button" download>Download</a>
        </div>
    )}
</li>

<style>
    .file-actions { display: flex; gap: 10px; }
    .button { padding: 6px 12px; background: var(--primary-color); color: white; text-decoration: none; border-radius: 4px; font-size: 14px; }
    .button.secondary { background: #666; }

    .file-name { flex-grow: 1; width: 100%; }
    .file-icon { margin-right: 10px; width: 24px; text-align: center; }
</style>